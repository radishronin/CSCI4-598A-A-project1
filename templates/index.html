<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simple Interface</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <main class="container" role="main">
    <header>
      <h1>Interface</h1>
      <p class="intro">
        Struggling to keep up with your coursework? This tool helps students tackle heavy workloads and fast-paced schedules by
        providing instant, focused study support. No more wasting time searching for resources—just ask, upload your materials,
        and get clear, actionable answers. Unlock the power of shared knowledge and study smarter, not harder.
      </p>
      <div class="page-links">
        <a class="btn secondary" href="{{ url_for('rag.planner') }}">Try Campus Path Planner</a>
        <a class="btn" href="{{ url_for('rag.notes') }}">Notes</a>
      </div>
    </header>

    <section class="row" aria-labelledby="prompt-label">
      <label id="prompt-label" for="prompt-input">Your prompt</label>
      <textarea id="prompt-input" name="prompt" placeholder="Type your question to the LLM..."></textarea>
      <div class="actions">
        <button id="enter-button" type="button" aria-label="Send prompt">Enter</button>
      </div>
    </section>
    <section class="row" aria-labelledby="language-label">
      <label id="language-label" for="language-select">Select Output Language</label>
      <select id="language-select" name="language">
        <option value="en">English</option>
        <option value="es">Spanish</option>
        <option value="fr">French</option>
        <option value="de">German</option>
        <option value="zh">Chinese (Mandarin)</option>
        <option value="hi">Hindi</option>
        <option value="ar">Arabic</option>
        <option value="pt">Portuguese</option>
        <option value="ru">Russian</option>
        <option value="it">Italian</option>
        <option value="ja">Japanese</option>
        <option value="ko">Korean</option>
        <option value="tr">Turkish</option>
        <option value="nl">Dutch</option>
        <option value="sv">Swedish</option>
        <option value="pl">Polish</option>
        <option value="vi">Vietnamese</option>
        <option value="th">Thai</option>
        <option value="id">Indonesian</option>
        <option value="bn">Bengali</option>
        <option value="ur">Urdu</option>
        <option value="fa">Persian (Farsi)</option>
        <option value="he">Hebrew</option>
        <option value="ro">Romanian</option>
        <option value="cs">Czech</option>
        <option value="el">Greek</option>
        <option value="hu">Hungarian</option>
        <option value="no">Norwegian</option>
        <option value="sk">Slovak</option>
      </select>
    </section>

    <section class="row" aria-labelledby="mode-label">
      <label id="mode-label" for="mode-select">Response mode</label>
      <select id="mode-select" name="mode">
        <option value="direct">Direct — respond only in the selected language</option>
        <option value="both">Original + Translation — include original response and then a translated version</option>
      </select>
      <p class="help">"Original + Translation" is useful when you want to see the primary answer and a translated version separated clearly.</p>
    </section>

    <section class="row" aria-labelledby="llm-label">
      <label id="llm-label">Select LLM</label>
      <div class="llm-options">
        <label class="radio-option">
          <input type="radio" name="llm-choice" value="gemini">
          <span>Gemini</span>
        </label>
        <label class="radio-option">
          <input type="radio" name="llm-choice" value="openai">
          <span>OpenAI</span>
        </label>
      </div>
    </section>

    <section class="row" aria-labelledby="files-label">
      <label id="files-label" for="file-input">Attach files (optional)</label>
      <input id="file-input" type="file" name="files" multiple />
    </section>

    <section class="row" aria-labelledby="output-label">
      <label id="output-label" for="output-box">LLM output</label>
      <div id="output-box" class="output-box" aria-live="polite" aria-atomic="false">
        <p><em>Model responses will appear here.</em></p>
      </div>
    </section>

    <!-- Notes were moved to a dedicated page: /rag/notes -->
  </main>

  <!-- Fullscreen Loading Spinner -->
  <div id="loading-spinner" class="loading-spinner" style="display: none;">
    <div class="spinner"></div>
    <p class="loading-text">Processing...</p>
  </div>

  <!-- API Key Modal -->
  <div id="api-key-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <h3>API Key Required</h3>
      <p id="api-key-message">Please enter your API key for the selected LLM:</p>
      <input type="password" id="api-key-input" placeholder="Enter your API key..." />
      <div class="modal-actions">
        <button id="api-key-cancel" type="button">Cancel</button>
        <button id="api-key-submit" type="button">Submit</button>
      </div>
    </div>
  </div>
  <!-- Add all JS functions here -->
  <script src="{{ url_for('static', filename='index.js') }}"></script>
</body>
</html>